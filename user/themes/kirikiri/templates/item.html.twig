{% extends 'partials/base.html.twig' %}

{% block content %}
    <article class="post-detail card article-card" data-url="{{ page.url(true, true) }}">
        {% set hero_image = page.header.image ? page.media[page.header.image] : page.media.images|first %}
        <header class="article-hero {% if not hero_image %}no-image{% endif %}">
            {% if hero_image %}
                <div class="article-hero-image">
                    <img src="{{ hero_image.url }}" alt="{{ page.title }}">
                </div>
            {% endif %}
            <div class="article-hero-text">
                <div class="article-category">
                    {% for tag in page.taxonomy.tag %}
                        <a href="{{ base_url }}/blog/tag:{{ tag }}">{{ tag }}</a>{% if not loop.last %}, {% endif %}
                    {% endfor %}
                </div>
                <h1 class="article-title">{{ page.title }}</h1>
                <div class="article-meta">
                    {% set author = page.taxonomy.author ? page.taxonomy.author|first : page.header.author %}
                    {% if author %}
                        <div class="article-author">
                            <a href="{{ base_url }}/blog/author:{{ author|url_encode }}">{{ author }}</a>
                        </div>
                    {% endif %}
                    {% set months = ["jaanuar", "veebruar", "mÃ¤rts", "aprill", "mai", "juuni", "juuli", "august", "september", "oktoober", "november", "detsember"] %}
                    <div class="article-date">{{ page.date|date("j.") }} {{ months[page.date|date("n") - 1] }} {{ page.date|date("Y") }}</div>
                </div>
            </div>
        </header>

        <div class="article-body">
            <div class="article-content content">
                {{ page.content|raw }}
            </div>
        </div>
    </article>
{% endblock %}
